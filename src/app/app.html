
<div id="app">
  <!-- <div id="menu" class="bg-primary-100 text-white">
    <div id="logo">ElvisFO</div>

    <p-scrollpanel [style]="{ width: '100%', height: 'calc(100vh - 128px)' }">
      <div class="card flex justify-center px-2 py-0">
        <p-panelmenu [model]="items" class="w-full" />
      </div>
    </p-scrollpanel>

  </div> -->
  
  <div id="content" class="bg-primary-200">
    <p-card>
      <div class="flex flex-row items-center justify-between mb-2">
        <h2>Debugger</h2>
        <p-select [options]="this.mockDataSvc.tableInfoArray" [(ngModel)]="_selectedTable" (ngModelChange)="onSelectedTableChange($event)" optionLabel="name" optionValue="name" placeholder="Select a Table" size="small" />
      </div>
      @if (_selectedTable) {
        <p-tabs value="1">
          <p-tablist>
            <!-- <p-tab value="0">Table</p-tab> -->
            <p-tab value="1">Form</p-tab>
            <p-tab value="2">Form Builder</p-tab>
          </p-tablist>
          <p-tabpanels>
            <!-- <p-tabpanel value="0" [style]="{ padding: 0 }">
              <app-entity-table [hostId]="_selectedTable"></app-entity-table>
            </p-tabpanel> -->
            <p-tabpanel value="1">
              <form [formGroup]="forms[_selectedTable]">
                <formly-form #formlyForm [form]="forms[_selectedTable]" [fields]="this.mockDataSvc.tableInfo[_selectedTable]?.formSpec || []" [model]="formModels[_selectedTable]"></formly-form>
              </form>
            </p-tabpanel>
            <p-tabpanel value="2">
              <app-entity-form-builder #formBuilder [hostId]="_selectedTable"></app-entity-form-builder>
            </p-tabpanel>
          </p-tabpanels>
        </p-tabs>
      }
    </p-card>

    <!-- <p-card header="Tables">
      <app-entity-table hostId="auth.user"></app-entity-table>
    </p-card> -->
 
    <router-outlet />
  </div>
</div>
